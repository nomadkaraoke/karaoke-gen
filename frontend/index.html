<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé§ Karaoke Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üé§ Karaoke Generator</h1>
            <p>Transform audio files into professional karaoke tracks with synchronized lyrics!</p>
        </header>

        <!-- Submit New Job Section -->
        <section class="submit-section">
            <h2>üéµ Submit a New Job</h2>
            <form id="job-form" class="job-form">
                <!-- Primary Form Fields -->
                <div class="primary-fields">
                    <div class="name-fields-row">
                        <div class="form-group">
                            <label for="artist">Artist Name</label>
                            <input type="text" id="artist" class="form-control" placeholder="Enter artist name" required>
                        </div>
                        <div class="form-group">
                            <label for="title">Song Title</label>
                            <input type="text" id="title" class="form-control" placeholder="Enter song title" required>
                        </div>
                        <div class="example-actions">
                            <button type="button" onclick="loadExampleData()" class="example-btn">
                                üéµ Load Example<br><small>(ABBA - Waterloo)</small>
                            </button>
                        </div>
                    </div>
                    
                    <div class="file-upload">
                        <label for="audio-file">Audio File (MP3, WAV, FLAC, etc.)</label>
                        <input type="file" id="audio-file" accept="audio/*" required>
                        <small>Upload the audio file you want to convert to karaoke</small>
                    </div>
                </div>
                
                <!-- Styles Configuration -->
                <div class="styles-section">
                    <div class="styles-header">
                        <div class="styles-info">
                            <h3>üé® Styling</h3>
                            <p>Using Nomad Default Styles for professional karaoke appearance</p>
                        </div>
                        <button type="button" id="customize-styles-btn" onclick="toggleCustomStyles()" class="btn btn-secondary">
                            üéõÔ∏è Customize Styles
                        </button>
                    </div>
                    
                    <div id="custom-styles-section" class="custom-styles-section" style="display: none;">
                        <div class="file-upload">
                            <label for="styles-file">Styles JSON File (optional)</label>
                            <input type="file" id="styles-file" name="styles-file" accept=".json" class="form-control">
                            <div class="form-actions">
                                <button type="button" class="btn btn-link" onclick="loadDefaultStyles()">
                                    üìÅ Load Nomad Default Styles
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="styles-archive">Styles Assets Archive (optional)</label>
                            <input type="file" id="styles-archive" name="styles-archive" accept=".zip" class="form-control">
                            <small class="help-text">Upload a ZIP file containing fonts, images, and other assets referenced in the styles JSON</small>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn">
                    üé§ Generate Karaoke
                </button>
            </form>
        </section>

        <!-- Statistics Cards -->
        <section class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="stat-total">0</div>
                    <div class="stat-label">Total Jobs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="stat-processing">0</div>
                    <div class="stat-label">Processing</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="stat-awaiting-review">0</div>
                    <div class="stat-label">Awaiting Review</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="stat-complete">0</div>
                    <div class="stat-label">Complete</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="stat-errors">0</div>
                    <div class="stat-label">Errors</div>
                </div>
            </div>
        </section>

        <!-- Job Status & Logs -->
        <section class="jobs-section">
            <div class="section-header">
                <h2>Job Status & Logs</h2>
                <div class="auto-refresh-control">
                    <label>
                        <input type="checkbox" id="auto-refresh">
                        Auto-refresh (5s)
                    </label>
                </div>
            </div>
            <div id="jobs-list" class="jobs-list">
                <div class="loading">Loading jobs...</div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>Made with ‚ù§Ô∏è by <a href="https://nomadkaraoke.com" target="_blank">Nomad Karaoke</a></p>
        </footer>
    </div>

    <!-- Admin Panel (Floating) -->
    <div class="admin-panel" id="admin-panel">
        <button class="admin-toggle" onclick="toggleAdminPanel()">
            ‚öôÔ∏è Admin
        </button>
        <div class="admin-content">
            <h3>üîß Admin Controls</h3>
            <div class="admin-buttons">
                <button onclick="refreshData()" class="btn btn-primary">
                    üîÑ Refresh Data
                </button>
                <button onclick="clearErrorJobs()" class="btn btn-danger">
                    üóëÔ∏è Clear Error Jobs
                </button>
                <button onclick="exportLogs()" class="btn btn-secondary">
                    üì§ Export Logs
                </button>
            </div>
        </div>
    </div>

    <!-- Log Tail Modal -->
    <div id="log-tail-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Log Tail - Job <span id="modal-job-id"></span></h3>
                <div class="modal-controls">
                    <button onclick="decreaseFontSize()" class="modal-control-btn" title="Decrease font size">A-</button>
                    <button onclick="increaseFontSize()" class="modal-control-btn" title="Increase font size">A+</button>
                    <button onclick="scrollToBottom()" class="modal-control-btn secondary" title="Scroll to bottom">‚¨áÔ∏è</button>
                    <button onclick="copyLogsToClipboard()" class="modal-control-btn secondary" title="Copy all logs to clipboard">üìã Copy</button>
                    <button onclick="toggleAutoScroll()" class="modal-control-btn toggle-active" id="auto-scroll-btn" title="Toggle auto-scroll">üîÑ Auto</button>
                    <button onclick="closeLogTailModal()" class="modal-close">‚úï</button>
                </div>
            </div>
            <div class="modal-body">
                <div id="modal-logs" class="modal-logs font-md">
                    <div class="logs-loading">Starting log tail...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notifications" class="notifications"></div>

    <script src="app.js"></script>
</body>
</html> 